{"version":3,"sources":["components/PersonLink.tsx","api.ts","components/Loader/Loader.tsx","pages/PeoplePage.tsx","components/PageNavLink.tsx","components/MainNav.tsx","App.tsx","index.tsx"],"names":["PersonLink","_ref","name","hasParent","_jsx","children","Link","to","concat","slug","className","classNames","sex","API_URL","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","PeoplePage","_useState","useState","_useState2","_slicedToArray","people","setPeople","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isErrorResponse","setIsErrorResponse","_useParams$slug","useParams","isSelected","person","useEffect","resp","catch","finally","foundParent","find","_jsxs","_Fragment","length","map","born","died","motherName","fatherName","PageNavLink","text","NavLink","_ref2","isActive","end","MainNav","role","App","Routes","Route","path","element","Navigate","replace","index","createRoot","document","getElementById","render","HashRouter"],"mappings":"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","file":"static/js/main.bed35d6b.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../types';\n\ntype Props = {\n  name?: string,\n  hasParent?: Person,\n};\n\nexport const PersonLink: React.FC<Props> = ({\n  name,\n  hasParent,\n}) => {\n  return (\n    <td>\n      {hasParent ? (\n        <Link\n          to={`/people/${hasParent.slug}`}\n          className={classNames(\n            { 'has-text-danger': hasParent.sex === 'f' },\n          )}\n        >\n          {hasParent.name}\n        </Link>\n      ) : (\n        name\n      )}\n    </td>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonLink } from '../components/PersonLink';\n\nimport { getPeople } from '../api';\nimport { Person } from '../types';\nimport { Loader } from '../components/Loader/Loader';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isErrorResponse, setIsErrorResponse] = useState(false);\n  const { slug = '' } = useParams();\n  const isSelected = (person: Person) => slug === `${person.slug}`;\n\n  const handleResponse = (resp: Person[]) => {\n    setIsLoading(false);\n    if (isErrorResponse) {\n      setIsErrorResponse(false);\n    }\n\n    setPeople(resp);\n  };\n\n  useEffect(() => {\n    getPeople()\n      .then((response) => handleResponse(response))\n      .catch(() => setIsErrorResponse(true))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  const foundParent = (name: string) => {\n    return people?.find(person => person.name === name);\n  };\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {isLoading && <Loader />}\n\n          {isErrorResponse && (\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n              Something went wrong\n            </p>\n          )}\n\n          {people?.length && !isLoading && (\n            <table\n              data-cy=\"peopleTable\"\n              className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n            >\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Sex</th>\n                  <th>Born</th>\n                  <th>Died</th>\n                  <th>Mother</th>\n                  <th>Father</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {people?.map(person => (\n                  <tr\n                    data-cy=\"person\"\n                    className={classNames(\n                      { 'has-background-warning': isSelected(person) },\n                    )}\n                    key={person.name}\n                  >\n                    <PersonLink hasParent={person} />\n                    <td>{person.sex}</td>\n                    <td>{person.born}</td>\n                    <td>{person.died}</td>\n                    {person.motherName ? (\n                      <PersonLink\n                        name={person.motherName}\n                        hasParent={foundParent(person.motherName)}\n                      />\n                    ) : (\n                      <td>-</td>\n                    )}\n                    {person.fatherName ? (\n                      <PersonLink\n                        name={person.fatherName}\n                        hasParent={foundParent(person.fatherName)}\n                      />\n                    ) : (\n                      <td>-</td>\n                    )}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n          {!people?.length\n          && !isLoading\n          && !isErrorResponse\n          && (\n            <p data-cy=\"noPeopleMessage\">\n              There are no people on the server\n            </p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\ntype Props = {\n  to: string,\n  text: string\n};\n\nexport const PageNavLink: React.FC<Props> = ({\n  to,\n  text,\n}) => (\n  <NavLink\n    to={to}\n    className={\n      ({ isActive }) => classNames(\n        'navbar-item',\n        { 'has-background-grey-lighter': isActive },\n      )\n    }\n    end\n  >\n    {text}\n  </NavLink>\n);\n","import { PageNavLink } from './PageNavLink';\n\nexport const MainNav = () => (\n  <nav\n    data-cy=\"nav\"\n    className=\"navbar is-fixed-top has-shadow\"\n    role=\"navigation\"\n    aria-label=\"main navigation\"\n  >\n    <div className=\"container\">\n      <div className=\"navbar-brand\">\n        <PageNavLink to=\"/\" text=\"Home\" />\n        <PageNavLink to=\"people\" text=\"People\" />\n      </div>\n    </div>\n  </nav>\n);\n","import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { PeoplePage } from './pages/PeoplePage';\n\nimport './App.scss';\n\nimport { MainNav } from './components/MainNav';\n\nexport const App: React.FC = () => {\n  return (\n    <div data-cy=\"app\">\n      <MainNav />\n\n      <main className=\"section\">\n        <div className=\"container\">\n          <Routes>\n            <Route\n              path=\"/\"\n              element={<h1 className=\"title\">Home Page</h1>}\n            />\n            <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n            <Route path=\"people\">\n              <Route index element={<PeoplePage />} />\n              <Route\n                path=\":slug\"\n                element={<PeoplePage />}\n              />\n            </Route>\n            <Route />\n            <Route\n              path=\"*\"\n              element={<h1 className=\"title\">Page not found</h1>}\n            />\n          </Routes>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <HashRouter>\n      <App />\n    </HashRouter>,\n  );\n"],"sourceRoot":""}